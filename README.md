# AnnihilationNexus

AnnihilationNexusは、Annihilationゲームモード用に設計された、Spigot/Paperで動作するMinecraftサーバー向けのカスタムプラグインです。堅牢なネクサスシステム、ユニークなアビリティを持つカスタムクラス、チームベースのゲームプレイメカニクスを提供します。

## 主な機能

- **ネクサスシステム**: チームごとにネクサスを作成・管理します。ネクサスが破壊されると、そのチームは敗退となります。
- **チーム管理**: `/team`コマンドでチームに参加できます。チーム選択は保存され、再ログイン時に自動的に参加します。
- **クラスシステム**: それぞれがユニークなアビリティを持つ、多様なクラスを選択できます。
- **スコアボード**: すべてのネクサスの体力をリアルタイムで表示するサイドバー。
- **チャット翻訳**: DeepLやAzure Translator APIを利用し、プレイヤー間のチャットをリアルタイムで翻訳します。
- **ランキングシステム**: プレイヤーにランクを付与し、表示上のプレフィックスを変更できます。
- **管理者用コマンド**: ゲームを管理するための豊富なコマンドセット。
- **設定ファイル**: `config.yml`と`regions.yml`で、プラグインの多くの側面をカスタマイズ可能です。

## コマンド

### プレイヤーコマンド

- `/class [クラス名]`: クラスを選択します。クラス名を指定しない場合、GUIが開きます。
- `/team <チーム名>`: 指定したチームに参加します。
- `/togglescoreboard`: スコアボードの表示/非表示を切り替えます。
- `/myxp`: 現在のXP（経験値）を確認します。
- `/sbrank`: 表示されるランクプレフィックスを変更するためのGUIを開きます。
- `/chat <lang|on|off> [引数]`: チャット翻訳の設定を管理します。
    - `lang <EN|JAなど>`: 翻訳のターゲット言語を設定します。
    - `on`: メッセージの翻訳を有効にします。
    - `off`: メッセージの翻訳を無効にします。

### 管理者コマンド (OP権限または`annihilation.admin`パーミッションが必要)

- `/anni <reload|friendlyfire|rank>`: プラグインの管理コマンドです。
    - `reload`: 設定ファイルをリロードします。
    - `friendlyfire <on|off>`: フレンドリーファイアを有効/無効にします。
    - `rank <set|give|remove> <プレイヤー> [ランク]`: プレイヤーのランクを管理します。
- `/nexus <create|destroy|sethealth>`: ネクサスの管理コマンドです。
    - `create <チーム名>`: 現在地にチームのネクサスを作成します。
    - `destroy <チーム名>`: チームのネクサスを破壊します。
    - `sethealth <チーム名> <体力値>`: チームのネクサスの体力を設定します。
- `/classregion <create|delete|list>`: クラス専用エリアを管理します。

## クラスとアビリティ

- **Dasher**: 高い機動力を持つクラス。**Blink**アビリティを使用できます。
- **Scout**: 汎用的なクラス。**Grapple**（グラップル）アビリティを使用できます。
- **Scorpio**: 戦術的なクラス。**Scorpio Hook**で敵を引き寄せたり、味方のもとへ移動したりできます。
- **Assassin**: ステルス性の高いクラス。**Leap**アビリティを使用できます。
- **Spy**: 敵を欺くクラス。**Vanish**（透明化）と**Flee**（デコイ設置）アビリティを使用できます。
- **Farmer**: サポートクラス。農業に関するユニークな能力を持ちます。
    - **Feast**: 近くの味方全員の満腹度を回復させます。
    - **Famine**: 近くの敵に空腹効果を与えます。
- **Transporter**: テレポーターを設置できるユーティリティクラス。

## チャット翻訳機能

プレイヤー間のコミュニケーションを円滑にするため、リアルタイムのチャット翻訳機能を搭載しています。

- **対応サービス**: DeepL, Azure Translator, またはその両方を使用するハイブリッドモード。
- **言語設定**: プレイヤーは個別に翻訳先の言語を設定できます。
- **有効/無効化**: プレイヤーはいつでも翻訳機能のオン/オフを切り替えられます。
- **設定 (`config.yml`):**
    - `deepl-api-key`: DeepLのAPIキー。
    - `azure-api-key`: Azure TranslatorのAPIキー。
    - `azure-region`: Azure Translatorのリージョン。
    - `translator-mode`: `DEEPL`, `AZURE`, `HYBRID`から選択。

## ランキングシステム

`/sbrank`コマンドでGUIを開き、プレイヤーは自分が表示したいランク（過去に付与されたもの）を選択できます。管理者は`/anni rank`コマンドでプレイヤーにランクを付与・剥奪できます。

- **利用可能なランク**: Silver, Gold, Platinum, Emerald, Obsidian, Ruby

## パーミッション

- `annihilation.admin`: すべての管理者コマンドへのアクセスを許可します。（`/anni`, `/nexus`, `/classregion`）

## インストール

1.  `AnnihilationNexus-X.X-SNAPSHOT.jar`ファイルをサーバーの`plugins`ディレクトリに配置します。
2.  サーバーを起動または再起動します。
3.  必要に応じて`plugins/AnnihilationNexus/`フォルダ内に生成された`config.yml`を編集します。
4.  ゲーム内コマンドを使用して、チームやネクサスを設定します。

## ソースからのビルド

このプロジェクトはApache Mavenを使用しています。

1.  リポジトリをクローンします。
2.  プロジェクトディレクトリに移動します。
3.  `mvn clean install`を実行します。
4.  コンパイルされたJARファイルが`target`ディレクトリに生成されます。
